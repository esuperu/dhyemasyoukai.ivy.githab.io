<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>„ÇØ„Ç§„Ç∫ ÂàùÁ¥ö</title>

  <!-- üì± ÂÖ®„Éá„Éê„Ç§„ÇπÂØæÂøú -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      margin: 0;
      background: linear-gradient(#1a0000, #000000);
      color: white;
    }

    header {
      background: #330000;
      padding: 14px;
      font-size: clamp(1.2rem, 4vw, 1.6rem);
      border-bottom: 3px solid #ff2222;
    }

    main {
      padding: 16px;
    }

    #timer {
      font-size: clamp(1.1rem, 4vw, 1.4rem);
      margin: 10px 0;
      color: #ff4444;
      font-weight: bold;
    }

    #card-img {
      width: min(90%, 320px);
      border-radius: 10px;
      margin-top: 12px;
      box-shadow: 0 0 12px rgba(255, 0, 0, 0.5);
    }

    #question {
      font-size: clamp(1.05rem, 4vw, 1.3rem);
      margin-top: 10px;
    }

    /* ===== ÂõûÁ≠î„Éú„Çø„É≥ ===== */

    /* üì± „Çπ„Éû„ÉõÔºöÁ∏¶‰∏¶„Å≥ */
    #choices {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 18px;
    }

    .choice {
      width: 100%;
      padding: 14px 0;
      font-size: clamp(1rem, 4vw, 1.15rem);
      border-radius: 12px;
      border: 2px solid #ff4444;
      background: #222;
      color: white;
      cursor: pointer;
    }

    /* üíª „Éë„ÇΩ„Ç≥„É≥ÔºöÊ®™‰∏¶„Å≥ */
    @media (min-width: 768px) {
      #choices {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }

      .choice {
        width: 45%;
        max-width: 260px;
      }
    }

    .correct {
      background: #00c853 !important;
    }

    .wrong {
      background: #d50000 !important;
    }

    /* ===== ÁµêÊûúÁîªÈù¢ ===== */
    #resultScreen {
      display: none;
      padding: 32px 16px 120px;
    }

    #retryBtn,
    #backBtn {
      padding: 15px 20px;
      margin-top: 16px;
      font-size: clamp(1rem, 4vw, 1.15rem);
      border-radius: 14px;
      border: none;
      cursor: pointer;
      width: min(90%, 320px);
      display: block;
      margin-left: auto;
      margin-right: auto;
    }

    #retryBtn {
      background: #ff2222;
      color: white;
    }

    #backBtn {
      background: #333;
      color: white;
    }
  </style>
</head>

<body>

<header>„Éá„É•„Ç®„Éû„Ç´„Éº„ÉâÂΩì„Å¶„ÇØ„Ç§„Ç∫ÔºàÂàùÁ¥öÔºâ</header>

<!-- „ÇØ„Ç§„Ç∫ÁîªÈù¢ -->
<main id="quizScreen">
  <p id="timer">ÊÆã„ÇäÊôÇÈñì: 10Áßí</p>
  <img id="card-img" src="" alt="„Ç´„Éº„ÉâÁîªÂÉè">
  <p id="question"></p>
  <div id="choices"></div>
</main>

<!-- ÁµêÊûúÁîªÈù¢ -->
<div id="resultScreen">
  <h2>ÁµêÊûúÁô∫Ë°®ÔºÅ</h2>
  <p style="font-size:1.5rem">
    „Çπ„Ç≥„Ç¢Ôºö
    <strong id="finalScore">0</strong> /
    <span id="totalQ">0</span>
  </p>

  <button id="retryBtn" onclick="resetQuiz()">„ÇÇ„ÅÜ‰∏ÄÂ∫¶„Éó„É¨„Ç§</button>
  <button id="backBtn" onclick="location.href='kuizu.html'">
    „ÇØ„Ç§„Ç∫ÈÅ∏Êäû„Å´Êàª„Çã
  </button>
</div>

<script>
  const quiz = [
    {
      question: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÂêçÂâç„ÅØÔºü",
      img: "img/„Ç∑„É£„Ç≥.jpg",
      choices: ["„Åô„ÅÑ„Åò„Çá„ÅÜ„Å†„ÅÑ„Åç„ÇÖ„ÅÜ„ÅÑ„Çì", "„Ç¶„Ç©„Éº„Çø„Éº„Ç™„É≥„Ç∂„Ç∑„Çß„É´", "„Åô„ÅÑ„Åò„Çá„ÅÜ„ÅÆ„Åò„ÅÑ„Çì", "„Ç∑„Çß„É´„Ç™„Éñ„Éä„Ç§„É≥„Ç¶„Ç©„Éº„Çø„Éº"],
      answer: 0
    },
    {
      question: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÂêçÂâç„ÅØÔºü",
      img: "img/ÂàùÁ¥öÔºí.PNG",
      choices: ["„É¨„Ç∏„Çß„É≥„Éâ„Éû„Çπ„Çø„Éº", "„Åß„Çì„Åõ„Å§„ÅØ„Çä„ÇÖ„ÅÜ", "„É¨„Ç∏„Çß„É≥„Éâ„Éâ„É©„Ç¥„É≥", "„Åß„Çì„Åõ„Å§„Çä„ÇÖ„ÅÜ„ÅØ"],
      answer: 3
    },
    {
      question: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÂêçÂâç„ÅØÔºü",
      img: "img/ÂàùÁ¥öÔºì.PNG",
      choices: ["„Ç§„É≥„Éö„É©„Éà„Éº„É¨„Éª„Éâ„É©„Ç¥„É≥", "„Çä„ÇÖ„ÅÜ„Åä„ÅÜ„Åó„Çì", "„Åã„Åø„Å™„Çã„Çä„ÇÖ„ÅÜ", "„Éâ„É©„Ç¥„Éã„ÉÉ„ÇØ„Éª„Ç®„É≥„Éö„É©„Éº"],
      answer: 1
    },
    {
      question: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÂêçÂâç„ÅØÔºü",
      img: "img/ÂàùÁ¥öÔºî.webp",
      choices: ["„ÇØ„É©„Ç§„Éû„ÉÉ„ÇØ„Çπ", "„Éè„Ç§„É©„Ç§„Éà", "„Éï„Ç£„Éä„Éº„É¨", "ÁµÇÁÑâ„ÅÆÈ¨º"],
      answer: 0
    },
    {
      question: "„Åì„ÅÆ„Ç´„Éº„Éâ„ÅÆÂêçÂâç„ÅØÔºü",
      img: "img/ÂàùÁ¥öÔºï.jpg",
      choices: ["„Éò„Éñ„É≥„Ç∫„Éª„Ç®„Çπ„Éó„É™", "„Ç∏„É£„ÉÉ„ÉÅ„É°„É≥„Éà„Éª„Ç®„Çπ„Éó„É™", "„Å®„ÅÜ„ÇÇ„Çì„ÅÆ„Åõ„ÅÑ„Çå„ÅÑ", "„Å®„ÅÜ„Åí„Çì„ÅÆ„Åõ„ÅÑ„Çå„ÅÑ"],
      answer: 2
    }
  ];

  let current = 0;
  let score = 0;

  function showQuestion() {
    const q = quiz[current];
    document.getElementById("card-img").src = q.img;
    document.getElementById("question").textContent = q.question;

    const choices = document.getElementById("choices");
    choices.innerHTML = "";

    q.choices.forEach((c, i) => {
      const btn = document.createElement("button");
      btn.textContent = c;
      btn.className = "choice";
      btn.onclick = () => checkAnswer(btn, i);
      choices.appendChild(btn);
    });
  }

  function checkAnswer(btn, index) {
    if (index === quiz[current].answer) score++;

    document.querySelectorAll(".choice").forEach((b, i) => {
      b.disabled = true;
      if (i === quiz[current].answer) b.classList.add("correct");
      if (b === btn && i !== quiz[current].answer) b.classList.add("wrong");
    });

    setTimeout(() => {
      current++;
      current >= quiz.length ? showResult() : showQuestion();
    }, 800);
  }

  function showResult() {
    document.getElementById("quizScreen").style.display = "none";
    document.getElementById("resultScreen").style.display = "block";
    document.getElementById("finalScore").textContent = score;
    document.getElementById("totalQ").textContent = quiz.length;
    window.scrollTo(0, 0);
  }

  function resetQuiz() {
    current = 0;
    score = 0;
    document.getElementById("resultScreen").style.display = "none";
    document.getElementById("quizScreen").style.display = "block";
    showQuestion();
  }

  showQuestion();
</script>

</body>
</html>
